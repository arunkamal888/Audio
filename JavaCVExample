import org.bytedeco.javacv.FFmpegFrameGrabber;
import org.bytedeco.javacv.FFmpegFrameRecorder;

public class VideoToAudioExtractor {

    public static void main(String[] args) {
        String inputVideoPath = "path/to/your/video.mp4";
        String outputAudioPath = "path/to/your/audio.wav";

        try {
            FFmpegFrameGrabber grabber = new FFmpegFrameGrabber(inputVideoPath);
            grabber.start();

            FFmpegFrameRecorder recorder = new FFmpegFrameRecorder(outputAudioPath, grabber.getAudioChannels());
            recorder.setAudioCodec(org.bytedeco.ffmpeg.global.avcodec.AV_CODEC_ID_PCM_S16LE);
            recorder.setSampleRate(grabber.getSampleRate());
            recorder.start();

            org.bytedeco.javacv.Frame frame;
            while ((frame = grabber.grabFrame()) != null) {
                if (frame.samples != null) {
                    recorder.record(frame);
                }
            }

            grabber.stop();
            grabber.release();
            recorder.stop();
            recorder.release();

        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}
