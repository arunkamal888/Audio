import javax.sound.sampled.*;
import java.io.File;
import java.io.IOException;

public class WavFileAnalysis {

    public static void analyzeWavFile(String filePath) {
        File file = new File(filePath);

        try (AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(file)) {
            AudioFormat format = audioInputStream.getFormat();
            long audioFileLength = file.length();
            int frameSize = format.getFrameSize();
            float frameRate = format.getFrameRate();
            float durationInSeconds = (audioFileLength / (frameSize * frameRate));

            System.out.println("File: " + filePath);
            System.out.println("Audio Format: " + format);
            System.out.println("File Length: " + audioFileLength + " bytes");
            System.out.println("Frame Size: " + frameSize + " bytes");
            System.out.println("Frame Rate: " + frameRate + " frames/second");
            System.out.println("Duration: " + durationInSeconds + " seconds");

            // Detect silence (basic example)
            detectSilence(audioInputStream, format);

        } catch (UnsupportedAudioFileException | IOException e) {
            e.printStackTrace();
        }
    }

    private static void detectSilence(AudioInputStream audioInputStream, AudioFormat format) throws IOException {
        byte[] bytes = new byte[1024];
        int bytesRead;
        boolean silenceDetected = false;

        while ((bytesRead = audioInputStream.read(bytes)) != -1) {
            // Check if all bytes in the buffer are zero (simple silence detection)
            silenceDetected = true;
            for (int i = 0; i < bytesRead; i++) {
                if (bytes[i] != 0) {
                    silenceDetected = false;
                    break;
                }
            }
            if (silenceDetected) {
                System.out.println("Silence detected in the audio stream.");
                break;
            }
        }
        if (!silenceDetected) {
            System.out.println("No silence detected in the audio stream.");
        }
    }

    public static void main(String[] args) {
        String filePath = "path_to_your_wav_file.wav";
        analyzeWavFile(filePath);
    }
}
